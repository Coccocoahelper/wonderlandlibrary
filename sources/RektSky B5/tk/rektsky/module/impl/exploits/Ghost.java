/*
 * Decompiled with CFR 0.152.
 */
package tk.rektsky.module.impl.exploits;

import net.minecraft.client.gui.GuiGameOver;
import org.greenrobot.eventbus.Subscribe;
import tk.rektsky.event.impl.HUDRenderEvent;
import tk.rektsky.event.impl.PacketSentEvent;
import tk.rektsky.event.impl.WorldTickEvent;
import tk.rektsky.module.Category;
import tk.rektsky.module.Module;

public class Ghost
extends Module {
    boolean wasForceRespawned = false;

    public Ghost() {
        super("Ghost", "Makes it so you can't die in vanilla", Category.EXPLOIT, false);
    }

    @Override
    public void onEnable() {
        this.wasForceRespawned = false;
    }

    @Subscribe
    public void onWorldTick(WorldTickEvent event) {
        if (this.mc.currentScreen instanceof GuiGameOver) {
            this.mc.displayGuiScreen(null);
            this.mc.thePlayer.isDead = false;
            this.mc.thePlayer.setHealth(20.0f);
            this.mc.thePlayer.setPositionAndUpdate(this.mc.thePlayer.posX, this.mc.thePlayer.posY, this.mc.thePlayer.posZ);
            this.wasForceRespawned = true;
        }
    }

    @Subscribe
    public void onGUIRender(HUDRenderEvent event) {
    }

    @Subscribe
    public void onPacketSend(PacketSentEvent event) {
    }

    @Override
    public void onDisable() {
        if (this.wasForceRespawned) {
            this.mc.displayGuiScreen(new GuiGameOver());
        }
    }
}

