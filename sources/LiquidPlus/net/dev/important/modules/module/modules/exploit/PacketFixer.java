/*
 * Decompiled with CFR 0.152.
 * 
 * Could not load the following classes:
 *  net.minecraft.network.Packet
 *  net.minecraft.network.play.INetHandlerPlayServer
 *  net.minecraft.network.play.client.C00PacketKeepAlive
 *  net.minecraft.network.play.client.C03PacketPlayer
 *  net.minecraft.network.play.client.C03PacketPlayer$C04PacketPlayerPosition
 *  net.minecraft.network.play.client.C03PacketPlayer$C05PacketPlayerLook
 *  net.minecraft.network.play.client.C03PacketPlayer$C06PacketPlayerPosLook
 *  net.minecraft.network.play.client.C08PacketPlayerBlockPlacement
 *  net.minecraft.network.play.client.C09PacketHeldItemChange
 *  org.jetbrains.annotations.NotNull
 */
package net.dev.important.modules.module.modules.exploit;

import kotlin.Metadata;
import kotlin.jvm.internal.Intrinsics;
import kotlin.ranges.RangesKt;
import net.dev.important.Client;
import net.dev.important.event.EventTarget;
import net.dev.important.event.PacketEvent;
import net.dev.important.modules.module.Category;
import net.dev.important.modules.module.Info;
import net.dev.important.modules.module.Module;
import net.dev.important.modules.module.modules.player.Blink;
import net.dev.important.modules.module.modules.render.FreeCam;
import net.dev.important.utils.MinecraftInstance;
import net.dev.important.utils.PacketUtils;
import net.dev.important.value.BoolValue;
import net.minecraft.network.Packet;
import net.minecraft.network.play.INetHandlerPlayServer;
import net.minecraft.network.play.client.C00PacketKeepAlive;
import net.minecraft.network.play.client.C03PacketPlayer;
import net.minecraft.network.play.client.C08PacketPlayerBlockPlacement;
import net.minecraft.network.play.client.C09PacketHeldItemChange;
import org.jetbrains.annotations.NotNull;

@Info(name="PacketFixer", spacedName="Packet Fixer", description="Fix some weird packet issues. May bypass some Verus checks.", category=Category.EXPLOIT, cnName="\u4fee\u590d\u53d1\u5305")
@Metadata(mv={1, 6, 0}, k=1, xi=48, d1={"\u0000:\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0002\b\u0007\n\u0002\u0010\b\n\u0002\b\u0002\n\u0002\u0010\u0007\n\u0002\b\u0002\n\u0002\u0010\u0006\n\u0002\b\u0004\n\u0002\u0010\u0002\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0000\b\u0007\u0018\u00002\u00020\u0001B\u0005\u00a2\u0006\u0002\u0010\u0002J\b\u0010\u0016\u001a\u00020\u0017H\u0016J\u0010\u0010\u0018\u001a\u00020\u00172\u0006\u0010\u0019\u001a\u00020\u001aH\u0003R\u000e\u0010\u0003\u001a\u00020\u0004X\u0082\u0004\u00a2\u0006\u0002\n\u0000R\u000e\u0010\u0005\u001a\u00020\u0004X\u0082\u0004\u00a2\u0006\u0002\n\u0000R\u000e\u0010\u0006\u001a\u00020\u0004X\u0082\u0004\u00a2\u0006\u0002\n\u0000R\u000e\u0010\u0007\u001a\u00020\u0004X\u0082\u0004\u00a2\u0006\u0002\n\u0000R\u000e\u0010\b\u001a\u00020\u0004X\u0082\u0004\u00a2\u0006\u0002\n\u0000R\u000e\u0010\t\u001a\u00020\u0004X\u0082\u0004\u00a2\u0006\u0002\n\u0000R\u000e\u0010\n\u001a\u00020\u0004X\u0082\u0004\u00a2\u0006\u0002\n\u0000R\u000e\u0010\u000b\u001a\u00020\fX\u0082\u000e\u00a2\u0006\u0002\n\u0000R\u000e\u0010\r\u001a\u00020\fX\u0082\u000e\u00a2\u0006\u0002\n\u0000R\u000e\u0010\u000e\u001a\u00020\u000fX\u0082\u000e\u00a2\u0006\u0002\n\u0000R\u000e\u0010\u0010\u001a\u00020\fX\u0082\u000e\u00a2\u0006\u0002\n\u0000R\u000e\u0010\u0011\u001a\u00020\u0012X\u0082\u000e\u00a2\u0006\u0002\n\u0000R\u000e\u0010\u0013\u001a\u00020\u0012X\u0082\u000e\u00a2\u0006\u0002\n\u0000R\u000e\u0010\u0014\u001a\u00020\u000fX\u0082\u000e\u00a2\u0006\u0002\n\u0000R\u000e\u0010\u0015\u001a\u00020\u0012X\u0082\u000e\u00a2\u0006\u0002\n\u0000\u00a8\u0006\u001b"}, d2={"Lnet/dev/important/modules/module/modules/exploit/PacketFixer;", "Lnet/dev/important/modules/module/Module;", "()V", "fixBlinkAndFreecam", "Lnet/dev/important/value/BoolValue;", "fixGround", "fixIdleFly", "fixInvalidPlace", "fixItemSwap", "fixPacketPlayer", "fixhyt", "jam", "", "packetCount", "pitch", "", "prevSlot", "x", "", "y", "yaw", "z", "onEnable", "", "onPacket", "event", "Lnet/dev/important/event/PacketEvent;", "LiquidBounce"})
public final class PacketFixer
extends Module {
    @NotNull
    private final BoolValue fixBlinkAndFreecam = new BoolValue("Blink3Y", true);
    @NotNull
    private final BoolValue fixPacketPlayer = new BoolValue("Timer3A", true);
    @NotNull
    private final BoolValue fixItemSwap = new BoolValue("Scaffold14D", true);
    @NotNull
    private final BoolValue fixInvalidPlace = new BoolValue("Scaffold14E", true);
    @NotNull
    private final BoolValue fixGround = new BoolValue("Fly4I", false);
    @NotNull
    private final BoolValue fixIdleFly = new BoolValue("Fly4C", false);
    @NotNull
    private final BoolValue fixhyt = new BoolValue("Huayuting", true);
    private double x;
    private double y;
    private double z;
    private float yaw;
    private float pitch;
    private int jam;
    private int packetCount;
    private int prevSlot = -1;

    @Override
    public void onEnable() {
        this.jam = 0;
        this.packetCount = 0;
        this.prevSlot = -1;
        if (MinecraftInstance.mc.field_71439_g == null) {
            return;
        }
        this.x = MinecraftInstance.mc.field_71439_g.field_70165_t;
        this.y = MinecraftInstance.mc.field_71439_g.field_70163_u;
        this.z = MinecraftInstance.mc.field_71439_g.field_70161_v;
        this.yaw = MinecraftInstance.mc.field_71439_g.field_70177_z;
        this.pitch = MinecraftInstance.mc.field_71439_g.field_70125_A;
    }

    @EventTarget(priority=1)
    private final void onPacket(PacketEvent event) {
        int n;
        Packet<?> packet;
        block21: {
            block22: {
                if (MinecraftInstance.mc.field_71439_g == null || MinecraftInstance.mc.field_71441_e == null || event.isCancelled()) {
                    return;
                }
                packet = event.getPacket();
                if (((Boolean)this.fixGround.get()).booleanValue() && packet instanceof C03PacketPlayer && !(packet instanceof C03PacketPlayer.C04PacketPlayerPosition) && !(packet instanceof C03PacketPlayer.C06PacketPlayerPosLook) && (MinecraftInstance.mc.field_71439_g.field_70181_x == 0.0 || MinecraftInstance.mc.field_71439_g.field_70122_E && MinecraftInstance.mc.field_71439_g.field_70124_G) && !((C03PacketPlayer)packet).field_149474_g) {
                    ((C03PacketPlayer)packet).field_149474_g = true;
                }
                if (packet instanceof C03PacketPlayer.C04PacketPlayerPosition) {
                    this.x = ((C03PacketPlayer.C04PacketPlayerPosition)packet).field_149479_a;
                    this.y = ((C03PacketPlayer.C04PacketPlayerPosition)packet).field_149477_b;
                    this.z = ((C03PacketPlayer.C04PacketPlayerPosition)packet).field_149478_c;
                    this.jam = 0;
                }
                if (packet instanceof C03PacketPlayer.C05PacketPlayerLook) {
                    this.yaw = ((C03PacketPlayer.C05PacketPlayerLook)packet).field_149476_e;
                    this.pitch = ((C03PacketPlayer.C05PacketPlayerLook)packet).field_149473_f;
                }
                if (packet instanceof C03PacketPlayer.C06PacketPlayerPosLook) {
                    this.x = ((C03PacketPlayer.C06PacketPlayerPosLook)packet).field_149479_a;
                    this.y = ((C03PacketPlayer.C06PacketPlayerPosLook)packet).field_149477_b;
                    this.z = ((C03PacketPlayer.C06PacketPlayerPosLook)packet).field_149478_c;
                    this.jam = 0;
                    this.yaw = ((C03PacketPlayer.C06PacketPlayerPosLook)packet).field_149476_e;
                    this.pitch = ((C03PacketPlayer.C06PacketPlayerPosLook)packet).field_149473_f;
                }
                if (((Boolean)this.fixPacketPlayer.get()).booleanValue() && packet instanceof C03PacketPlayer && !(packet instanceof C03PacketPlayer.C04PacketPlayerPosition) && !(packet instanceof C03PacketPlayer.C06PacketPlayerPosLook)) {
                    n = this.jam;
                    this.jam = n + 1;
                    if (this.jam > 20) {
                        this.jam = 0;
                        event.cancelEvent();
                        PacketUtils.sendPacketNoEvent((Packet<INetHandlerPlayServer>)((Packet)new C03PacketPlayer.C06PacketPlayerPosLook(this.x, this.y, this.z, this.yaw, this.pitch, ((C03PacketPlayer)packet).field_149474_g)));
                    }
                }
                if (!MinecraftInstance.mc.func_71356_B() && ((Boolean)this.fixItemSwap.get()).booleanValue() && packet instanceof C09PacketHeldItemChange) {
                    if (((C09PacketHeldItemChange)packet).func_149614_c() == this.prevSlot) {
                        event.cancelEvent();
                    } else {
                        this.prevSlot = ((C09PacketHeldItemChange)packet).func_149614_c();
                    }
                }
                if (((Boolean)this.fixInvalidPlace.get()).booleanValue() && packet instanceof C08PacketPlayerBlockPlacement) {
                    ((C08PacketPlayerBlockPlacement)packet).field_149577_f = RangesKt.coerceIn(((C08PacketPlayerBlockPlacement)packet).field_149577_f, -1.0f, 1.0f);
                    ((C08PacketPlayerBlockPlacement)packet).field_149578_g = RangesKt.coerceIn(((C08PacketPlayerBlockPlacement)packet).field_149578_g, -1.0f, 1.0f);
                    ((C08PacketPlayerBlockPlacement)packet).field_149584_h = RangesKt.coerceIn(((C08PacketPlayerBlockPlacement)packet).field_149584_h, -1.0f, 1.0f);
                }
                if (!((Boolean)this.fixBlinkAndFreecam.get()).booleanValue()) break block21;
                Module module2 = Client.INSTANCE.getModuleManager().getModule(Blink.class);
                Intrinsics.checkNotNull(module2);
                if (module2.getState()) break block22;
                Module module3 = Client.INSTANCE.getModuleManager().getModule(FreeCam.class);
                Intrinsics.checkNotNull(module3);
                if (!module3.getState()) break block21;
            }
            if (packet instanceof C00PacketKeepAlive) {
                event.cancelEvent();
            }
        }
        if (((Boolean)this.fixIdleFly.get()).booleanValue() && packet instanceof C03PacketPlayer && !((C03PacketPlayer)packet).field_149474_g) {
            if (!(packet instanceof C03PacketPlayer.C04PacketPlayerPosition || packet instanceof C03PacketPlayer.C05PacketPlayerLook || packet instanceof C03PacketPlayer.C06PacketPlayerPosLook)) {
                n = this.packetCount;
                this.packetCount = n + 1;
                if (this.packetCount >= 2) {
                    event.cancelEvent();
                }
            } else {
                this.packetCount = 0;
            }
        }
        if (((Boolean)this.fixhyt.get()).booleanValue() || packet instanceof C08PacketPlayerBlockPlacement || packet instanceof C03PacketPlayer) {
            event.cancelEvent();
        }
    }
}

