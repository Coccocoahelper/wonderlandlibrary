// 
// Decompiled by Procyon v0.5.36
// 

package dev.tenacity.module.impl.exploit;

import dev.tenacity.module.Category;
import net.minecraft.network.play.server.S02PacketChat;
import dev.tenacity.event.impl.network.PacketReceiveEvent;
import dev.tenacity.module.Module;

public final class TPAKiller extends Module
{
    @Override
    public void onPacketReceiveEvent(final PacketReceiveEvent event) {
        if (event.getPacket() instanceof S02PacketChat && TPAKiller.mc.thePlayer != null) {
            final S02PacketChat s02PacketChat = (S02PacketChat)event.getPacket();
            final String msg = s02PacketChat.getChatComponent().getUnformattedText();
            if (msg.contains("tpa") || msg.contains("request")) {
                TPAKiller.mc.thePlayer.setPosition(TPAKiller.mc.thePlayer.posX, TPAKiller.mc.thePlayer.posY - 6.0, TPAKiller.mc.thePlayer.posZ);
                TPAKiller.mc.thePlayer.sendChatMessage("/tpa accept");
                if (TPAKiller.mc.thePlayer.ticksExisted % 2 == 0) {
                    TPAKiller.mc.thePlayer.setPosition(TPAKiller.mc.thePlayer.posX, TPAKiller.mc.thePlayer.posY + 6.0, TPAKiller.mc.thePlayer.posZ);
                }
            }
        }
    }
    
    public TPAKiller() {
        super("TPAKiller", "TPA Killer", Category.EXPLOIT, "Suffocates people who /tpa to you");
    }
}
